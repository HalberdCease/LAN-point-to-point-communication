Welcome!

这里是局域网点对点通信程序（以下称“本程序”，下文中的“此程序”指单个程序文件），下面是功能和使用说明。

## 功能说明

本程序可以通过简单的方式，在局域网内建立 P2P 连接。

本程序的 P2P 连接基于 Socket（套接字）。

~~本程序不保证你的通信内容不会被监听，因为本身就是写着玩的。~~

本程序不存在严格意义上的服务器，下文中的“服务端”指监听连接请求的一方，“客户端”指发起请求的一方。

### `server_listen.py`

此程序用于监听局域网中的客户端连接请求，回复连接请求并建立连接。

### `client_start.py`

此程序用于对服务端提出连接请求，接收连接信息并建立连接。

### `talk.py`

此程序用于用户通信。

### `writeboard.py`

此程序用于充当写字板（多亏了那狗屎的缓冲区）。

### `err_close.py`

此程序用于发送结束连接通知。

## 使用说明

### 依赖

- OS：Windows 10/11，未来会支持 Linux，不保证兼容 Windows 更低版本；

- python 3.12.x 及以上版本，不保证兼容 python 3 的更低版本，保证不兼容 python 2 版本；

- psutil，请运行 `pip install psutil` 获取此依赖；

- 局域网连接。

### 开始

请打开 `server_listen.py` 和 `client_start.py`，将第 `4` 行的 `username` 改成自己的名字。

在服务端运行 `server_listen.py`，得到如下结果即运行成功：

```
[start] 服务器开始监听...
[info] ip: 10.37.xxx.xxx (192.168.xxx.xxx)
```

在客户端运行 `client_start.py`，得到如下结果：

```
[input] 远程会话地址:
```

请输入服务端的 ip 信息，看到如下界面即成功：

```
[connect] 正在和远程地址握手...
[ok] 找到可用端口 xxxxx
[ok] 会话已建立
[close] 握手会话关闭
```

此时服务端出现以下内容：

```
[connect] 连接申请，来自 10.37.202.164
[ok] 找到可用端口 11452
[ok] 会话已建立
[close] 握手会话关闭
```

即为成功连接。

两方都会弹出两个窗口，一个是对话框，一个是输入框，在输入框中回车，信息即可发送。
